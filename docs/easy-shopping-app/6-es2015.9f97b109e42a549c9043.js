(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{sn2V:function(t,e,o){"use strict";o.r(e),o.d(e,"CustomerManagementModule",(function(){return N}));var r=o("ofXK"),i=o("tyNb"),n=o("mrSG"),s=o("EFo3"),c=o("vkgz"),a=o("0IaG"),m=o("3Pt+"),u=o("fXoL"),b=o("Stxe"),d=o("aeOW"),l=o("bTqV"),f=o("kmnG"),g=o("qFsG"),p=o("Xa2L");function h(t,e){1&t&&(u.Ub(0,"mat-error"),u.Bc(1,"Campo obrigat\xf3rio"),u.Tb())}function C(t,e){1&t&&(u.Ub(0,"mat-error"),u.Bc(1,"Campo obrigat\xf3rio"),u.Tb())}function T(t,e){1&t&&(u.Ub(0,"mat-error"),u.Bc(1,"Campo obrigat\xf3rio"),u.Tb())}function U(t,e){1&t&&(u.Ub(0,"mat-error"),u.Bc(1,"Email inv\xe1lido"),u.Tb())}function v(t,e){1&t&&(u.Ub(0,"div",14),u.Pb(1,"mat-spinner",15),u.Tb())}function B(t,e){if(1&t&&(u.Ub(0,"div",5),u.Ub(1,"form",6),u.Ub(2,"mat-form-field",7),u.Ub(3,"mat-label"),u.Bc(4,"Nome"),u.Tb(),u.Pb(5,"input",8),u.zc(6,h,2,0,"mat-error",9),u.Tb(),u.Ub(7,"mat-form-field",7),u.Ub(8,"mat-label"),u.Bc(9,"CPF"),u.Tb(),u.Pb(10,"input",10),u.zc(11,C,2,0,"mat-error",9),u.Tb(),u.Ub(12,"mat-form-field",7),u.Ub(13,"mat-label"),u.Bc(14,"Email"),u.Tb(),u.Pb(15,"input",11),u.zc(16,T,2,0,"mat-error",9),u.zc(17,U,2,0,"mat-error",9),u.Tb(),u.Ub(18,"div",12),u.zc(19,v,2,0,"ng-template",null,13,u.Ac),u.Tb(),u.Tb(),u.Tb()),2&t){const t=u.gc();u.Cb(1),u.mc("formGroup",t.customerForm),u.Cb(5),u.mc("ngIf",t.name.hasError("required")),u.Cb(5),u.mc("ngIf",t.cpf.hasError("required")),u.Cb(5),u.mc("ngIf",t.email.hasError("required")),u.Cb(1),u.mc("ngIf",t.email.hasError("email"))}}let F=(()=>{class t{constructor(t,e,o,r,i,n){this.customerService=t,this.snackBarService=e,this.utilsService=o,this.formBuilder=r,this.dialogRef=i,this.data=n}ngOnInit(){this.customer=this.data.customer,this.createForm()}createForm(){this.customerForm=this.formBuilder.group({name:[this.customer.name,[m.n.required]],cpf:[this.customer.cpf,[m.n.required]],email:[this.customer.email,[m.n.email,m.n.required]]})}submitCustomerUpdated(){return Object(n.a)(this,void 0,void 0,(function*(){this.customerForm.invalid?this.customerForm.markAllAsTouched():yield this.updateCustomer()}))}updateCustomer(){return Object(n.a)(this,void 0,void 0,(function*(){const t=this.customerForm.getRawValue();t.id=this.customer.id;const e={next:t=>{t&&this.dialogRef.close(t)},error:t=>{const e=this.utilsService.handleErrorMessage(t);this.snackBarService.openSnackBar(e)}};yield this.customerService.updateCustomer(t).pipe(Object(c.a)(e)).toPromise().then(()=>!0).catch(()=>!1)}))}get name(){return this.customerForm.get("name")}get cpf(){return this.customerForm.get("cpf")}get email(){return this.customerForm.get("email")}get password(){return this.customerForm.get("password")}get confirmPassword(){return this.customerForm.get("confirmPassword")}}return t.\u0275fac=function(e){return new(e||t)(u.Ob(s.a),u.Ob(b.a),u.Ob(d.a),u.Ob(m.c),u.Ob(a.g),u.Ob(a.a))},t.\u0275cmp=u.Ib({type:t,selectors:[["es-customer-detail"]],features:[u.Bb([s.a])],decls:8,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content","",4,"ngIf"],["mat-dialog-actions","","align","right"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click"],["mat-dialog-content",""],[1,"container-registration-form",3,"formGroup"],[1,"input-full-width"],["type","text","matInput","","formControlName","name","id","name"],[4,"ngIf"],["type","text","matInput","","formControlName","cpf","id","cpf","mask","000.000.000-00"],["type","text","matInput","","formControlName","email","id","email"],[1,"actions-container"],["showLoading",""],[1,"loading"],["diameter","50"]],template:function(t,e){1&t&&(u.Ub(0,"div",0),u.Bc(1),u.Tb(),u.zc(2,B,21,5,"div",1),u.Ub(3,"div",2),u.Ub(4,"button",3),u.Bc(5,"FECHAR"),u.Tb(),u.Ub(6,"button",4),u.cc("click",(function(){return e.submitCustomerUpdated()})),u.Bc(7,"SALVAR"),u.Tb(),u.Tb()),2&t&&(u.Cb(1),u.Dc(" Editar ",e.customer.name,"\n"),u.Cb(1),u.mc("ngIf",e.customerForm))},directives:[a.h,r.n,a.c,l.a,a.d,a.e,m.o,m.k,m.e,f.c,f.f,g.b,m.b,m.j,m.d,f.b,p.b],styles:[".mat-dialog-actions[_ngcontent-%COMP%]{padding:0!important}"]}),t})();var O=o("Qapo"),I=o("Eby3"),w=o("Wp6s"),P=o("NFeN"),S=o("STbY");function k(t,e){1&t&&(u.Ub(0,"div",5),u.Pb(1,"mat-spinner",6),u.Tb())}function y(t,e){1&t&&(u.Ub(0,"p"),u.Bc(1," N\xe3o h\xe1 clientes cadastrados. "),u.Tb())}function E(t,e){if(1&t){const t=u.Vb();u.Ub(0,"li",10),u.Ub(1,"mat-card"),u.Ub(2,"mat-icon",11),u.Bc(3,"more_vert"),u.Tb(),u.Ub(4,"mat-menu",null,12),u.Ub(6,"button",13),u.cc("click",(function(){u.tc(t);const o=e.$implicit;return u.gc(2).openEditCustomer(o)})),u.Ub(7,"span"),u.Bc(8,"Editar"),u.Tb(),u.Tb(),u.Ub(9,"button",14),u.Ub(10,"span"),u.Bc(11,"Remover"),u.Tb(),u.Tb(),u.Tb(),u.Ub(12,"mat-card-title"),u.Bc(13),u.Tb(),u.Ub(14,"mat-card-content"),u.Ub(15,"p"),u.Ub(16,"span"),u.Bc(17,"CPF:"),u.Tb(),u.Bc(18),u.Tb(),u.Ub(19,"p"),u.Ub(20,"span"),u.Bc(21,"Email:"),u.Tb(),u.Bc(22),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&t){const t=e.$implicit,o=u.rc(5);u.Cb(2),u.mc("matMenuTriggerFor",o),u.Cb(11),u.Cc(t.name),u.Cb(5),u.Dc(" ",t.cpf," "),u.Cb(4),u.Dc(" ",t.email," ")}}function M(t,e){if(1&t&&(u.Ub(0,"ul",7),u.zc(1,y,2,0,"p",8),u.zc(2,E,23,4,"li",9),u.Tb()),2&t){const t=u.gc();u.Cb(1),u.mc("ngIf",t.noCustomerFound),u.Cb(1),u.mc("ngForOf",t.customers)}}const L=[{path:"",component:(()=>{class t{constructor(t,e,o){this.customerService=t,this.dialog=e,this.snackBarService=o,this.isLoadingCustomers=!1,this.noCustomerFound=!1,this.customers=[]}ngOnInit(){return Object(n.a)(this,void 0,void 0,(function*(){yield this.loadCustomers()}))}loadCustomers(){return Object(n.a)(this,void 0,void 0,(function*(){this.isLoadingCustomers=!0;const t={next:t=>{t.length?this.customers=t:this.noCustomerFound=!0,this.isLoadingCustomers=!1},error:t=>{this.isLoadingCustomers=!1,this.noCustomerFound=!0}};yield this.customerService.getCustomers().pipe(Object(c.a)(t)).toPromise().then(()=>!0).catch(()=>!1)}))}openEditCustomer(t){const e={next:t=>{t&&(this.snackBarService.openSnackBar(O.a.SUCCESSFULLY_UPDATED),this.loadCustomers())}};this.dialogRef=this.dialog.open(F,{data:{customer:t,isViewing:!0},autoFocus:!1,disableClose:!0,panelClass:"es-dialog"}),this.dialogRef.afterClosed().subscribe(e)}}return t.\u0275fac=function(e){return new(e||t)(u.Ob(s.a),u.Ob(a.b),u.Ob(b.a))},t.\u0275cmp=u.Ib({type:t,selectors:[["es-customer-list"]],features:[u.Bb([s.a])],decls:6,vars:3,consts:[[3,"showMenuIcon"],[1,"title"],[1,"container-list"],["class","loading",4,"ngIf"],["class","content-list",4,"ngIf"],[1,"loading"],["diameter","50"],[1,"content-list"],[4,"ngIf"],["class","card-items",4,"ngFor","ngForOf"],[1,"card-items"],["mat-icon-button","",3,"matMenuTriggerFor"],["cardOption","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item",""]],template:function(t,e){1&t&&(u.Pb(0,"es-toolbar",0),u.Ub(1,"div",1),u.Bc(2," Clientes\n"),u.Tb(),u.Ub(3,"div",2),u.zc(4,k,2,0,"div",3),u.zc(5,M,3,2,"ul",4),u.Tb()),2&t&&(u.mc("showMenuIcon",!1),u.Cb(4),u.mc("ngIf",e.isLoadingCustomers),u.Cb(1),u.mc("ngIf",!e.isLoadingCustomers))},directives:[I.a,r.n,p.b,r.m,w.a,P.a,S.c,S.d,S.a,w.h,w.c],styles:["mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}mat-card-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:400}"]}),t})()}];let z=(()=>{class t{}return t.\u0275mod=u.Mb({type:t}),t.\u0275inj=u.Lb({factory:function(e){return new(e||t)},imports:[[i.b.forChild(L)],i.b]}),t})();var j=o("kvGs"),q=o("ssao");let N=(()=>{class t{}return t.\u0275mod=u.Mb({type:t}),t.\u0275inj=u.Lb({factory:function(e){return new(e||t)},imports:[[r.c,m.m,q.a,z,j.a]]}),t})()}}]);