function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(t);if(e){var o=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{PD3S:function(t,e,n){"use strict";n.r(e),n.d(e,"ProductManagementModule",(function(){return M}));var r,o=n("ofXK"),i=n("mrSG"),c=n("8Ldt"),s=n("fXoL"),a=((r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).url="/products",r}return _createClass(n,[{key:"getProducts",value:function(t){var e=""+this.url;return t&&(e+="/subcategory?subcategoryId="+t),this.get(e)}}]),n}(c.a)).\u0275fac=function(t){return new(t||r)(s.Yb(s.s))},r.\u0275prov=s.Kb({token:r,factory:r.\u0275fac}),r),u=n("vkgz"),f=n("/my9"),l=n("A5z7"),d=n("NFeN"),p=n("Xa2L"),b=n("Wp6s");function g(t,e){if(1&t){var n=s.Vb();s.Ub(0,"div",6),s.Ub(1,"span"),s.Bc(2,"Filtro: "),s.Tb(),s.Ub(3,"mat-chip-list"),s.Ub(4,"mat-chip",7),s.cc("removed",(function(){return s.tc(n),s.gc().removeFilter()})),s.Bc(5),s.Ub(6,"mat-icon",8),s.Bc(7,"cancel"),s.Tb(),s.Tb(),s.Tb(),s.Tb()}if(2&t){var r=s.gc();s.Cb(5),s.Dc(" ",r.categoryFiltered," ")}}function h(t,e){1&t&&(s.Ub(0,"div",9),s.Pb(1,"mat-spinner",10),s.Tb())}function m(t,e){if(1&t&&(s.Ub(0,"span"),s.Bc(1," para a categoria"),s.Ub(2,"b"),s.Bc(3),s.Tb(),s.Tb()),2&t){var n=s.gc(3);s.Cb(3),s.Dc(" ",n.categoryFiltered,"")}}function v(t,e){if(1&t&&(s.Ub(0,"p"),s.Bc(1,"Nenhum produto encontrado "),s.zc(2,m,4,1,"span",12),s.Tb()),2&t){var n=s.gc(2);s.Cb(2),s.mc("ngIf",n.categoryFiltered)}}function y(t,e){if(1&t&&(s.Ub(0,"li",14),s.Ub(1,"mat-card"),s.Ub(2,"mat-card-header"),s.Pb(3,"div",15),s.Ub(4,"mat-card-title"),s.Bc(5),s.Tb(),s.Ub(6,"mat-card-subtitle"),s.Bc(7),s.Tb(),s.Tb(),s.Pb(8,"img",16),s.Ub(9,"mat-card-content"),s.Ub(10,"p",17),s.Bc(11),s.hc(12,"currency"),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&t){var n=e.$implicit;s.Cb(5),s.Cc(n.name),s.Cb(2),s.Cc(n.productSubcategoryName),s.Cb(4),s.Dc(" Pre\xe7o: ",s.jc(12,3,n.price,"BRL")," ")}}function P(t,e){if(1&t&&(s.Ub(0,"ul",11),s.zc(1,v,3,1,"p",12),s.zc(2,y,13,6,"li",13),s.Tb()),2&t){var n=s.gc();s.Cb(1),s.mc("ngIf",n.noProductsFound),s.Cb(1),s.mc("ngForOf",n.products)}}var _,w,C,O=((_=function(){function t(e,n){_classCallCheck(this,t),this.productService=e,this.menuService=n,this.products=[],this.isListFiltererd=!1,this.categoryFiltered="",this.noProductsFound=!1,this.isLoadingProducts=!1}return _createClass(t,[{key:"ngOnInit",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadProducts();case 2:this.subscription=this.menuService.currentSubcategoryId.subscribe((function(t){t.id&&(e.isListFiltererd=!0,e.categoryFiltered=t.name,e.loadProducts(t))}));case 3:case"end":return t.stop()}}),t,this)})))}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"loadProducts",value:function(t){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.products=[],this.noProductsFound=!1,this.isLoadingProducts=!0,n={next:function(t){t.length?r.products=t:r.noProductsFound=!0,r.isLoadingProducts=!1},error:function(t){r.noProductsFound=!1,r.isLoadingProducts=!1}},e.next=4,this.productService.getProducts(null==t?void 0:t.id).pipe(Object(u.a)(n)).toPromise().then().catch();case 4:case"end":return e.stop()}}),e,this)})))}},{key:"removeFilter",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isListFiltererd=!1,this.categoryFiltered="",t.next=4,this.loadProducts();case 4:case"end":return t.stop()}}),t,this)})))}}]),t}()).\u0275fac=function(t){return new(t||_)(s.Ob(a),s.Ob(f.a))},_.\u0275cmp=s.Ib({type:_,selectors:[["es-products-list"]],features:[s.Bb([a])],decls:7,vars:3,consts:[[1,"filter-container"],[1,"title"],["class","filter-list-content",4,"ngIf"],[1,"products-list"],["class","loading",4,"ngIf"],["class","content-list",4,"ngIf"],[1,"filter-list-content"],[3,"removed"],["matChipRemove",""],[1,"loading"],["diameter","50"],[1,"content-list"],[4,"ngIf"],["class","card-products-items",4,"ngFor","ngForOf"],[1,"card-products-items"],["mat-card-avatar","",1,"products-header-image"],["mat-card-image","","src","https://material.angular.io/assets/img/examples/shiba2.jpg","alt","Photo of a Shiba Inu"],[1,"product-price-info"]],template:function(t,e){1&t&&(s.Ub(0,"div",0),s.Ub(1,"div",1),s.Bc(2," Nossos produtos "),s.Tb(),s.zc(3,g,8,1,"div",2),s.Tb(),s.Ub(4,"div",3),s.zc(5,h,2,0,"div",4),s.zc(6,P,3,2,"ul",5),s.Tb()),2&t&&(s.Cb(3),s.mc("ngIf",e.isListFiltererd),s.Cb(2),s.mc("ngIf",e.isLoadingProducts),s.Cb(1),s.mc("ngIf",!e.isLoadingProducts))},directives:[o.n,l.b,l.a,d.a,l.c,p.b,o.m,b.a,b.d,b.b,b.h,b.g,b.e,b.c],pipes:[o.d],styles:[".title[_ngcontent-%COMP%]{width:100%;margin-left:1vw;margin-top:1vw;margin-bottom:auto;font-weight:100;font-size:38px;font-family:Roboto,Helvetica Neue,sans-serif}.container-list[_ngcontent-%COMP%]{width:auto;display:flex;flex-shrink:2;margin-top:1vw;padding-left:1vw;flex-wrap:wrap}.filter-container[_ngcontent-%COMP%]{display:flex;width:100%}.filter-list-content[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:1vw}.filter-list-content[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-right:1vw}.products-list[_ngcontent-%COMP%]{padding:0;margin:0;list-style:none;display:flex;flex-flow:row wrap;justify-content:flex-start}.products-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;margin-left:1vw;margin-top:1vw;margin-bottom:auto;font-size:26px;font-weight:100}.products-header-image[_ngcontent-%COMP%]{background-image:url(https://material.angular.io/assets/img/examples/shiba1.jpg);background-size:cover}.product-price-info[_ngcontent-%COMP%]{font-size:25px;font-weight:300}.card-products-items[_ngcontent-%COMP%]{border-radius:5px;height:auto;margin-bottom:25px;margin-right:25px;box-shadow:0 3px 8px 0 rgba(62,100,146,.16);background-color:#fff}mat-card[_ngcontent-%COMP%]{width:350px}mat-chip[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.loading[_ngcontent-%COMP%]{margin-top:15%}"]}),_),x=n("tyNb"),T=[{path:"",component:O}],k=((w=function t(){_classCallCheck(this,t)}).\u0275mod=s.Mb({type:w}),w.\u0275inj=s.Lb({factory:function(t){return new(t||w)},imports:[[x.b.forChild(T)],x.b]}),w),F=n("ssao"),U=n("kvGs"),M=((C=function t(){_classCallCheck(this,t)}).\u0275mod=s.Mb({type:C}),C.\u0275inj=s.Lb({factory:function(t){return new(t||C)},imports:[[o.c,F.a,k,U.a]]}),C)}}]);