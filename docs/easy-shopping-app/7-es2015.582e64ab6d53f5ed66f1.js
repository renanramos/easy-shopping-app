(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{PD3S:function(t,i,n){"use strict";n.r(i),n.d(i,"ProductManagementModule",(function(){return T}));var e=n("ofXK"),o=n("mrSG"),r=n("8Ldt"),c=n("fXoL");let s=(()=>{class t extends r.a{constructor(t){super(t),this.url="/products"}getProducts(t){let i=""+this.url;return t&&(i+="/subcategory?subcategoryId="+t),this.get(i)}}return t.\u0275fac=function(i){return new(i||t)(c.Yb(c.s))},t.\u0275prov=c.Kb({token:t,factory:t.\u0275fac}),t})();var a=n("vkgz"),d=n("/my9"),u=n("A5z7"),l=n("NFeN"),b=n("Xa2L"),g=n("Wp6s");function p(t,i){if(1&t){const t=c.Vb();c.Ub(0,"div",6),c.Ub(1,"span"),c.Bc(2,"Filtro: "),c.Tb(),c.Ub(3,"mat-chip-list"),c.Ub(4,"mat-chip",7),c.cc("removed",(function(){return c.tc(t),c.gc().removeFilter()})),c.Bc(5),c.Ub(6,"mat-icon",8),c.Bc(7,"cancel"),c.Tb(),c.Tb(),c.Tb(),c.Tb()}if(2&t){const t=c.gc();c.Cb(5),c.Dc(" ",t.categoryFiltered," ")}}function f(t,i){1&t&&(c.Ub(0,"div",9),c.Pb(1,"mat-spinner",10),c.Tb())}function m(t,i){if(1&t&&(c.Ub(0,"span"),c.Bc(1," para a categoria"),c.Ub(2,"b"),c.Bc(3),c.Tb(),c.Tb()),2&t){const t=c.gc(3);c.Cb(3),c.Dc(" ",t.categoryFiltered,"")}}function h(t,i){if(1&t&&(c.Ub(0,"p"),c.Bc(1,"Nenhum produto encontrado "),c.zc(2,m,4,1,"span",12),c.Tb()),2&t){const t=c.gc(2);c.Cb(2),c.mc("ngIf",t.categoryFiltered)}}function v(t,i){if(1&t&&(c.Ub(0,"li",14),c.Ub(1,"mat-card"),c.Ub(2,"mat-card-header"),c.Pb(3,"div",15),c.Ub(4,"mat-card-title"),c.Bc(5),c.Tb(),c.Ub(6,"mat-card-subtitle"),c.Bc(7),c.Tb(),c.Tb(),c.Pb(8,"img",16),c.Ub(9,"mat-card-content"),c.Ub(10,"p",17),c.Bc(11),c.hc(12,"currency"),c.Tb(),c.Tb(),c.Tb(),c.Tb()),2&t){const t=i.$implicit;c.Cb(5),c.Cc(t.name),c.Cb(2),c.Cc(t.productSubcategoryName),c.Cb(4),c.Dc(" Pre\xe7o: ",c.jc(12,3,t.price,"BRL")," ")}}function P(t,i){if(1&t&&(c.Ub(0,"ul",11),c.zc(1,h,3,1,"p",12),c.zc(2,v,13,6,"li",13),c.Tb()),2&t){const t=c.gc();c.Cb(1),c.mc("ngIf",t.noProductsFound),c.Cb(1),c.mc("ngForOf",t.products)}}let w=(()=>{class t{constructor(t,i){this.productService=t,this.menuService=i,this.products=[],this.isListFiltererd=!1,this.categoryFiltered="",this.noProductsFound=!1,this.isLoadingProducts=!1}ngOnInit(){return Object(o.a)(this,void 0,void 0,(function*(){yield this.loadProducts(),this.subscription=this.menuService.currentSubcategoryId.subscribe(t=>{t.id&&(this.isListFiltererd=!0,this.categoryFiltered=t.name,this.loadProducts(t))})}))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}loadProducts(t){return Object(o.a)(this,void 0,void 0,(function*(){this.products=[],this.noProductsFound=!1,this.isLoadingProducts=!0;const i={next:t=>{t.length?this.products=t:this.noProductsFound=!0,this.isLoadingProducts=!1},error:t=>{this.noProductsFound=!1,this.isLoadingProducts=!1}};yield this.productService.getProducts(null==t?void 0:t.id).pipe(Object(a.a)(i)).toPromise().then().catch()}))}removeFilter(){return Object(o.a)(this,void 0,void 0,(function*(){this.isListFiltererd=!1,this.categoryFiltered="",yield this.loadProducts()}))}}return t.\u0275fac=function(i){return new(i||t)(c.Ob(s),c.Ob(d.a))},t.\u0275cmp=c.Ib({type:t,selectors:[["es-products-list"]],features:[c.Bb([s])],decls:7,vars:3,consts:[[1,"filter-container"],[1,"title"],["class","filter-list-content",4,"ngIf"],[1,"products-list"],["class","loading",4,"ngIf"],["class","content-list",4,"ngIf"],[1,"filter-list-content"],[3,"removed"],["matChipRemove",""],[1,"loading"],["diameter","50"],[1,"content-list"],[4,"ngIf"],["class","card-products-items",4,"ngFor","ngForOf"],[1,"card-products-items"],["mat-card-avatar","",1,"products-header-image"],["mat-card-image","","src","https://material.angular.io/assets/img/examples/shiba2.jpg","alt","Photo of a Shiba Inu"],[1,"product-price-info"]],template:function(t,i){1&t&&(c.Ub(0,"div",0),c.Ub(1,"div",1),c.Bc(2," Nossos produtos "),c.Tb(),c.zc(3,p,8,1,"div",2),c.Tb(),c.Ub(4,"div",3),c.zc(5,f,2,0,"div",4),c.zc(6,P,3,2,"ul",5),c.Tb()),2&t&&(c.Cb(3),c.mc("ngIf",i.isListFiltererd),c.Cb(2),c.mc("ngIf",i.isLoadingProducts),c.Cb(1),c.mc("ngIf",!i.isLoadingProducts))},directives:[e.n,u.b,u.a,l.a,u.c,b.b,e.m,g.a,g.d,g.b,g.h,g.g,g.e,g.c],pipes:[e.d],styles:[".title[_ngcontent-%COMP%]{width:100%;margin-left:1vw;margin-top:1vw;margin-bottom:auto;font-weight:100;font-size:38px;font-family:Roboto,Helvetica Neue,sans-serif}.container-list[_ngcontent-%COMP%]{width:auto;display:flex;flex-shrink:2;margin-top:1vw;padding-left:1vw;flex-wrap:wrap}.filter-container[_ngcontent-%COMP%]{display:flex;width:100%}.filter-list-content[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:1vw}.filter-list-content[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-right:1vw}.products-list[_ngcontent-%COMP%]{padding:0;margin:0;list-style:none;display:flex;flex-flow:row wrap;justify-content:flex-start}.products-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;margin-left:1vw;margin-top:1vw;margin-bottom:auto;font-size:26px;font-weight:100}.products-header-image[_ngcontent-%COMP%]{background-image:url(https://material.angular.io/assets/img/examples/shiba1.jpg);background-size:cover}.product-price-info[_ngcontent-%COMP%]{font-size:25px;font-weight:300}.card-products-items[_ngcontent-%COMP%]{border-radius:5px;height:auto;margin-bottom:25px;margin-right:25px;box-shadow:0 3px 8px 0 rgba(62,100,146,.16);background-color:#fff}mat-card[_ngcontent-%COMP%]{width:350px}mat-chip[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.loading[_ngcontent-%COMP%]{margin-top:15%}"]}),t})();var y=n("tyNb");const C=[{path:"",component:w}];let O=(()=>{class t{}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(i){return new(i||t)},imports:[[y.b.forChild(C)],y.b]}),t})();var x=n("ssao"),F=n("kvGs");let T=(()=>{class t{}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(i){return new(i||t)},imports:[[e.c,x.a,O,F.a]]}),t})()}}]);